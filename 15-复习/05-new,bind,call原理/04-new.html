<script>
    // ------------------------------  new的原理 
// function Person(name){
//     this.name = name;
// }
// Person.prototype.say = function(){
//     console.log("say....")
// }
// function myNew(){
//     // arguments  伪数组  Person  "wangcai"
//     // console.log(arguments)
//     let Constructor =  [].shift.call(arguments)
//     // console.log(Constructor) // Person
//     let obj = {};
//     obj.__proto__ =  Constructor.prototype; // 原型上的方法
//     Constructor.apply(obj,arguments)
//     return obj ;
// }
// // let p = new Person("wangcai")
// let p = myNew(Person,"wangcai")
// console.log(p.name)
// p.say()

// ----------------------- new的原理 
// function Person(name){
//     // console.log(arguments)
//     // Arguments ["wangcai", callee: ƒ, Symbol(Symbol.iterator): ƒ]
//     this.name = name;
// }
// Person.prototype.say = function(){
//     console.log("say....")
// }
// function myNew(){
//     // arguments 是  Person,"wangcai"  
//     // console.log(arguments)
//     // Arguments(2) [ƒ, "wangcai", callee: ƒ, Symbol(Symbol.iterator): ƒ]
//     // Constructor 是 Person
//     let Constructor = [].shift.call(arguments) 
//     let obj = {};
//     obj.__proto__ =  Constructor.prototype
//     Constructor.apply(obj,arguments)
//     return obj;
// }
// let p = new Person("wangcai")
// // let p = myNew(Person,"wangcai")
// console.log(p.name)
// p.say()

// -----------------------------------
// 当new一个构造器时，构造器返回一个新的对象
// new出来的对象就是p 
// function Person(name){
//     this.name = name;
//     return {

//     }
// }
// Person.prototype.say = function(){
//     console.log("say....")
// }
// let p = new Person("wangcai")
// console.log(p.name)
// p.say()

// -------------------------------  new的原理 
// function Person(name){
//     this.name = name;
//     return {
//     }
// }
// Person.prototype.say = function(){
//     console.log("say....")
// }
// function myNew(){
//     let Constructor = [].shift.call(arguments) 
//     let obj = {};
//     obj.__proto__ =  Constructor.prototype
//     let r = Constructor.apply(obj,arguments)
//     return r instanceof Object ? r : obj;
// }
// let p = myNew(Person,"wangcai")
// console.log(p.name)
// p.say()

// ------------------------ new内部做什么？
// new 究竟做了什么？
    // 创建一个新对象
    // 将新对象的_proto_指向构造函数的prototype对象
    // 将构造函数的作用域赋值给新对象 （也就是this指向新对象）
    // 执行构造函数中的代码（为这个新对象添加属性）
    // 返回新的对象

</script>