<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script src="https://cdn.bootcss.com/jquery/1.11.3/jquery.js"></script>
</head>
<body>
    <button id="btn">获取数据</button>
</body>
<script>
    // npm i axios   axios.get("xxx").then(data=>{})
    // vue: axios.get("xxx").then(data=>{}) ajax的新方式
    // jq: 老方式  $.ajax()
    $("#btn").on("click",function(){
        $.ajax({
            url:"http://localhost:3333/newsList",
            type:"get",
            dataType:"jsonp",
            success:function(res){
                console.log(res)
            }
        })
    })
</script>
</html>


<!-- 
    协议，IP，端口 有一个不一样，就会产生跨域

    走的本地的file协议

    服务器：http://localhost:3333/newsList
    客户端：file:///C:/Users/Administrator/Desktop/jsonp/01-jsonp%E8%B7%A8%E5%9F%9F%E4%B9%8Bbrowser.html

    报错了：
    Access to XMLHttpRequest at 'http://localhost:3333/newsList' from origin 'null' has been blocked by CORS policy: No 'Access-Control-Allow-Origin' header is present on the requested resource.
 -->

 <!-- 

    在vscode上面的装了一个插件，插件开启一个服务

    服务器：http://localhost:3333/newsList
    客户端：http://127.0.0.1:5500/01-jsonp%E8%B7%A8%E5%9F%9F%E4%B9%8Bbrowser.html
 
    报错了：Access to XMLHttpRequest at 'http://localhost:3333/newsList' from origin 'http://127.0.0.1:5500' has been blocked by CORS policy: No 'Access-Control-Allow-Origin' header is present on the requested resource.
-->

<!-- 

    自己实现的express服务

    服务器：http://localhost:3333/newsList
    客户端：http://localhost:4444/

    报错了：Access to XMLHttpRequest at 'http://localhost:3333/newsList' from origin 'http://localhost:4444' has been blocked by CORS policy: No 'Access-Control-Allow-Origin' header is present on the requested resource.
 -->

 <!-- 
    dataType:"jsonp",
    jsonp: 后端代码和前端代码都需要动 

  -->

  <!-- 
      如果是jsonp，那么它会在请求的地址后面加上一个callback
    http://localhost:3333/newsList?callback=jQuery111307336290861173469_1566805602879&_=1566805602881
    
    如果前端加上了jsonp，数据其实就已经得到了：{"title":"新闻标题","content":"新闻内容"}
-->

<!-- 
    如果没有加p   会有跨域限制 
    如果加上了p   就可以得到数据  会在请求的url后面加callback 
 -->